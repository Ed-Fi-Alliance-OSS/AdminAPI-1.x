{
	"info": {
		"_postman_id": "380187be-88da-4506-ad0e-3b2461b3fdc3",
		"name": "Admin API E2E",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "15734759"
	},
	"item": [
		{
			"name": "User Management",
			"item": [
				{
					"name": "Register",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "noauth"
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "ClientId",
									"value": "{{ClientId}}",
									"type": "text"
								},
								{
									"key": "ClientSecret",
									"value": "{{ClientSecret}}",
									"type": "text"
								},
								{
									"key": "DisplayName",
									"value": "{{UserName}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{API_URL}}/connect/register",
							"host": [
								"{{API_URL}}"
							],
							"path": [
								"connect",
								"register"
							]
						}
					},
					"response": [
						{
							"name": "Client already exists",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "urlencoded",
									"urlencoded": [
										{
											"key": "ClientId",
											"value": "{{ClientId}}",
											"type": "text"
										},
										{
											"key": "ClientSecret",
											"value": "{{ClientSecret}}",
											"type": "text"
										},
										{
											"key": "DisplayName",
											"value": "{{UserName}}",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{API_URL}}/connect/register",
									"host": [
										"{{API_URL}}"
									],
									"path": [
										"connect",
										"register"
									]
								}
							},
							"status": "Internal Server Error",
							"code": 500,
							"_postman_previewlanguage": "plain",
							"header": [
								{
									"key": "Content-Type",
									"value": "text/plain; charset=utf-8"
								},
								{
									"key": "Date",
									"value": "Tue, 07 Jun 2022 00:32:33 GMT"
								},
								{
									"key": "Server",
									"value": "Kestrel"
								},
								{
									"key": "Transfer-Encoding",
									"value": "chunked"
								}
							],
							"cookie": [],
							"body": "FluentValidation.ValidationException: Validation failed: \r\n -- ClientId: ClientId test-client already exists Severity: Error\r\n   at EdFi.Ods.Admin.Api.Features.Connect.RegisterService.Handle(Request request) in C:\\Users\\anunez\\Documents\\Ed-Fi\\Repos\\Ed-Fi-ODS-AdminApp\\Application\\EdFi.Ods.Admin.Api\\Features\\Connect\\RegisterService.cs:line 39\r\n   at lambda_method15(Closure , Object )\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)\r\n\r\nHEADERS\r\n=======\r\nAccept: */*\r\nConnection: keep-alive\r\nHost: localhost:7214\r\nUser-Agent: PostmanRuntime/7.29.0\r\nAccept-Encoding: gzip, deflate, br\r\nContent-Type: application/x-www-form-urlencoded\r\nContent-Length: 68\r\nPostman-Token: abff4861-de39-4ba9-b979-1e513b04d2a3\r\n"
						},
						{
							"name": "Register successful",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "urlencoded",
									"urlencoded": [
										{
											"key": "ClientId",
											"value": "{{ClientId}}",
											"type": "text"
										},
										{
											"key": "ClientSecret",
											"value": "{{ClientSecret}}",
											"type": "text"
										},
										{
											"key": "DisplayName",
											"value": "{{UserName}}",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "{{API_URL}}/connect/register",
									"host": [
										"{{API_URL}}"
									],
									"path": [
										"connect",
										"register"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Date",
									"value": "Tue, 07 Jun 2022 00:32:57 GMT"
								},
								{
									"key": "Server",
									"value": "Kestrel"
								},
								{
									"key": "Transfer-Encoding",
									"value": "chunked"
								}
							],
							"cookie": [],
							"body": "{\n    \"value\": {\n        \"status\": 200,\n        \"title\": \"Registered client test-client successfully.\"\n    },\n    \"statusCode\": 200,\n    \"contentType\": null\n}"
						},
						{
							"name": "Missing required property",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "urlencoded",
									"urlencoded": [
										{
											"key": "ClientId",
											"value": "{{ClientId}}",
											"type": "text"
										},
										{
											"key": "ClientSecret",
											"value": "{{ClientSecret}}",
											"type": "text"
										},
										{
											"key": "DisplayName",
											"value": "{{UserName}}",
											"type": "text",
											"disabled": true
										}
									]
								},
								"url": {
									"raw": "{{API_URL}}/connect/register",
									"host": [
										"{{API_URL}}"
									],
									"path": [
										"connect",
										"register"
									]
								}
							},
							"status": "Internal Server Error",
							"code": 500,
							"_postman_previewlanguage": "plain",
							"header": [
								{
									"key": "Content-Type",
									"value": "text/plain; charset=utf-8"
								},
								{
									"key": "Date",
									"value": "Tue, 07 Jun 2022 00:33:30 GMT"
								},
								{
									"key": "Server",
									"value": "Kestrel"
								},
								{
									"key": "Transfer-Encoding",
									"value": "chunked"
								}
							],
							"cookie": [],
							"body": "FluentValidation.ValidationException: Validation failed: \r\n -- DisplayName: 'Display Name' must not be empty. Severity: Error\r\n   at ValidatorExtensions.GuardAsync[TRequest](IValidator`1 validator, TRequest request) in C:\\Users\\anunez\\Documents\\Ed-Fi\\Repos\\Ed-Fi-ODS-AdminApp\\Application\\EdFi.Ods.Admin.Api\\Infrastructure\\ValidatorExtensions.cs:line 15\r\n   at EdFi.Ods.Admin.Api.Features.Connect.RegisterService.Handle(Request request) in C:\\Users\\anunez\\Documents\\Ed-Fi\\Repos\\Ed-Fi-ODS-AdminApp\\Application\\EdFi.Ods.Admin.Api\\Features\\Connect\\RegisterService.cs:line 35\r\n   at lambda_method15(Closure , Object )\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)\r\n\r\nHEADERS\r\n=======\r\nAccept: */*\r\nConnection: keep-alive\r\nHost: localhost:7214\r\nUser-Agent: PostmanRuntime/7.29.0\r\nAccept-Encoding: gzip, deflate, br\r\nContent-Type: application/x-www-form-urlencoded\r\nContent-Length: 46\r\nPostman-Token: dcf3237d-fed7-44e6-b5be-b7cbcf7dd46d\r\n"
						}
					]
				}
			],
			"auth": {
				"type": "noauth"
			},
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "Vendors",
			"item": [
				{
					"name": "Vendors",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"response must contain vendors\", function () {\r",
									"    const vendors = pm.response.json().result;\r",
									"    pm.expect(vendors.length).to.be.gte(0);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{API_URL}}/vendors",
							"host": [
								"{{API_URL}}"
							],
							"path": [
								"vendors"
							]
						}
					},
					"response": [
						{
							"name": "Get all vendors",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{API_URL}}/vendors",
									"host": [
										"{{API_URL}}"
									],
									"path": [
										"vendors"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Date",
									"value": "Tue, 07 Jun 2022 00:22:51 GMT"
								},
								{
									"key": "Server",
									"value": "Kestrel"
								},
								{
									"key": "Transfer-Encoding",
									"value": "chunked"
								}
							],
							"cookie": [],
							"body": "{\n    \"result\": [\n        {\n            \"vendorId\": 3,\n            \"company\": \"Test Company\",\n            \"namespacePrefixes\": \"uri://ed-fi.org\",\n            \"contactName\": \"Test User\",\n            \"contactEmailAddress\": \"test@test-ed-fi.org\"\n        },\n        {\n            \"vendorId\": 4,\n            \"company\": \"Test Company\",\n            \"namespacePrefixes\": \"uri://ed-fi.org\",\n            \"contactName\": \"Test User\",\n            \"contactEmailAddress\": \"test@test-ed-fi.org\"\n        }\n    ],\n    \"status\": 200,\n    \"title\": \"Request successful\"\n}"
						}
					]
				},
				{
					"name": "Vendors",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Vendor is created\", function () {\r",
									"    pm.response.to.have.status(201);\r",
									"});\r",
									"\r",
									"const json = pm.response.json();\r",
									"const result = json.result;\r",
									"\r",
									"if(result.vendorId) {\r",
									"    pm.collectionVariables.set(\"VendorId\", result.vendorId);\r",
									"    pm.collectionVariables.set(\"InitialVendor\", result);\r",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"company\": \"Test Company\",\r\n    \"namespacePrefixes\": \"uri://ed-fi.org\",\r\n    \"contactName\": \"Test User\",\r\n    \"contactEmailAddress\": \"test@test-ed-fi.org\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{API_URL}}/vendors",
							"host": [
								"{{API_URL}}"
							],
							"path": [
								"vendors"
							]
						}
					},
					"response": [
						{
							"name": "Add a vendor",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"company\": {{CompanyName}},\r\n    \"namespacePrefixes\": \"uri://ed-fi.org\",\r\n    \"contactName\": {{ContactName}},\r\n    \"contactEmailAddress\": {{ContactEmail}}\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{API_URL}}/vendors",
									"host": [
										"{{API_URL}}"
									],
									"path": [
										"vendors"
									]
								}
							},
							"status": "Created",
							"code": 201,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Date",
									"value": "Thu, 02 Jun 2022 23:12:16 GMT"
								},
								{
									"key": "Server",
									"value": "Kestrel"
								},
								{
									"key": "Location",
									"value": "/Vendors/1"
								},
								{
									"key": "Transfer-Encoding",
									"value": "chunked"
								}
							],
							"cookie": [],
							"body": "{\n    \"result\": {\n        \"vendorId\": 1,\n        \"company\": \"Test Company\",\n        \"namespacePrefixes\": \"uri://ed-fi.org\",\n        \"contactName\": \"Test User\",\n        \"contactEmailAddress\": \"test@test-ed-fi.org\"\n    },\n    \"status\": 201,\n    \"title\": \"Vendor created successfully\"\n}"
						},
						{
							"name": "Add a vendor with multiple namespaces",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"company\": {{CompanyName}},\r\n    \"namespacePrefixes\": \"uri://ed-fi.org,uri://academicbenchmarks.com\",\r\n    \"contactName\": {{ContactName}},\r\n    \"contactEmailAddress\": {{ContactEmail}}\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{API_URL}}/vendors",
									"host": [
										"{{API_URL}}"
									],
									"path": [
										"vendors"
									]
								}
							},
							"status": "Created",
							"code": 201,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Date",
									"value": "Thu, 02 Jun 2022 23:13:53 GMT"
								},
								{
									"key": "Server",
									"value": "Kestrel"
								},
								{
									"key": "Location",
									"value": "/Vendors/2"
								},
								{
									"key": "Transfer-Encoding",
									"value": "chunked"
								}
							],
							"cookie": [],
							"body": "{\n    \"result\": {\n        \"vendorId\": 2,\n        \"company\": \"Test Company\",\n        \"namespacePrefixes\": \"uri://ed-fi.org,uri://academicbenchmarks.com\",\n        \"contactName\": \"Test User\",\n        \"contactEmailAddress\": \"test@test-ed-fi.org\"\n    },\n    \"status\": 201,\n    \"title\": \"Vendor created successfully\"\n}"
						},
						{
							"name": "Missing required property",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"company\": {{CompanyName}},\r\n    \"namespacePrefixes\": {{NamespacePrefix}},\r\n    \"contactEmailAddress\": {{ContactEmail}}\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{API_URL}}/vendors",
									"host": [
										"{{API_URL}}"
									],
									"path": [
										"vendors"
									]
								}
							},
							"status": "Internal Server Error",
							"code": 500,
							"_postman_previewlanguage": "plain",
							"header": [
								{
									"key": "Content-Type",
									"value": "text/plain; charset=utf-8"
								},
								{
									"key": "Date",
									"value": "Mon, 06 Jun 2022 23:19:06 GMT"
								},
								{
									"key": "Server",
									"value": "Kestrel"
								},
								{
									"key": "Transfer-Encoding",
									"value": "chunked"
								}
							],
							"cookie": [],
							"body": "FluentValidation.ValidationException: Validation failed: \r\n -- ContactName: 'Contact Name' must not be empty. Severity: Error\r\n   at ValidatorExtensions.GuardAsync[TRequest](IValidator`1 validator, TRequest request) in C:\\Users\\anunez\\Documents\\Ed-Fi\\Repos\\Ed-Fi-ODS-AdminApp\\Application\\EdFi.Ods.Admin.Api\\Infrastructure\\ValidatorExtensions.cs:line 15\r\n   at EdFi.Ods.Admin.Api.Features.Vendors.VendorFeatures.AddVendor(AddVendorCommand addVendorCommand, IMapper mapper, AddVendorModelValidator validator, AddVendorModel vendor) in C:\\Users\\anunez\\Documents\\Ed-Fi\\Repos\\Ed-Fi-ODS-AdminApp\\Application\\EdFi.Ods.Admin.Api\\Features\\Vendors\\VendorFeatures.cs:line 54\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass46_3.<<HandleRequestBodyAndCompileRequestDelegate>b__2>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)\r\n\r\nHEADERS\r\n=======\r\nAccept: */*\r\nConnection: keep-alive\r\nHost: localhost:7214\r\nUser-Agent: PostmanRuntime/7.29.0\r\nAccept-Encoding: gzip, deflate, br\r\nAuthorization: Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6Ik5IQzRNNDFRS0paTzVITzJNQkI1SEVBWVhPT1hVSVVCREdGOVotVF8iLCJ0eXAiOiJhdCtqd3QifQ.eyJzdWIiOiJ0ZXN0LWNsaWVudCIsIm5hbWUiOiJUZXN0Q2xpZW50Iiwic2NvcGUiOiJlZGZpX2FkbWluX2FwaS9mdWxsX2FjY2VzcyIsIm9pX3Byc3QiOiJ0ZXN0LWNsaWVudCIsImNsaWVudF9pZCI6InRlc3QtY2xpZW50Iiwib2lfdGtuX2lkIjoiMTQzIiwiZXhwIjoxNjU0NTYxMTQ3LCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MjE0LyIsImlhdCI6MTY1NDU1NzU0N30.HWIw7zSW0EK9ayHnszDzWsbZIBmffsh2KZaXbhte0l67SCySbG-bD8QKPsgcYwiP5-TnWZoYqcjStYPLed5bISbnMyuQf8iWVth7QDvTRfQosZilzIIR1Pv0GD8vziPKruhKGYy8phZwpREpZIcI_KzN_ipzbKn-k0pOjVHfZaEWddYZsx8ZxiKcvA2gP17dYI_fNsIMaSA-H0ttHi3klXgx2Zvt_HmD0lGJjoYuvryVMInVmiLYaI1kRJ8IJ_ZEPTmlcLO6FiRo3K760VNe8ihXPFv6JPQ-Fkx1S_1khFdVfnDwaulHbW04roQoN2yjstAjbxxAzQJUUIR_1CJQ2A\r\nContent-Type: application/json\r\nContent-Length: 137\r\nPostman-Token: 6391ae0c-58f8-4f33-ac40-b7529d9ac20d\r\n"
						}
					]
				},
				{
					"name": "Vendor",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"id is present in response\", function () {\r",
									"    pm.expect(pm.response.id).not.eq(undefined);\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{API_URL}}/vendors/{{VendorId}}",
							"host": [
								"{{API_URL}}"
							],
							"path": [
								"vendors",
								"{{VendorId}}"
							]
						}
					},
					"response": [
						{
							"name": "Vendor found",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{API_URL}}/vendors/{{Vendor}}",
									"host": [
										"{{API_URL}}"
									],
									"path": [
										"vendors",
										"{{Vendor}}"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Date",
									"value": "Mon, 06 Jun 2022 21:56:13 GMT"
								},
								{
									"key": "Server",
									"value": "Kestrel"
								},
								{
									"key": "Transfer-Encoding",
									"value": "chunked"
								}
							],
							"cookie": [],
							"body": "{\n    \"result\": {\n        \"vendorId\": 18,\n        \"company\": \"Test Company\",\n        \"namespacePrefixes\": \"uri://ed-fi.org\",\n        \"contactName\": \"Test User\",\n        \"contactEmailAddress\": \"test@test-ed-fi.org\"\n    },\n    \"status\": 200,\n    \"title\": \"Request successful\"\n}"
						},
						{
							"name": "Vendor not found",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{API_URL}}/vendors/{{VendorId}}",
									"host": [
										"{{API_URL}}"
									],
									"path": [
										"vendors",
										"{{VendorId}}"
									]
								}
							},
							"status": "Internal Server Error",
							"code": 500,
							"_postman_previewlanguage": "plain",
							"header": [
								{
									"key": "Content-Type",
									"value": "text/plain; charset=utf-8"
								},
								{
									"key": "Date",
									"value": "Mon, 06 Jun 2022 21:48:58 GMT"
								},
								{
									"key": "Server",
									"value": "Kestrel"
								},
								{
									"key": "Transfer-Encoding",
									"value": "chunked"
								}
							],
							"cookie": [],
							"body": "EdFi.Ods.AdminApp.Management.ErrorHandling.NotFoundException`1[System.Int32]: Not found: This vendor no longer exists.It may have been recently deleted. with ID -1\r\n   at EdFi.Ods.Admin.Api.Features.Vendors.VendorFeatures.GetVendor(IGetVendorByIdQuery getVendorByIdQuery, IMapper mapper, Int32 id) in C:\\Users\\anunez\\Documents\\Ed-Fi\\Repos\\Ed-Fi-ODS-AdminApp\\Application\\EdFi.Ods.Admin.Api\\Features\\Vendors\\VendorFeatures.cs:line 45\r\n   at lambda_method7(Closure , Object , HttpContext )\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)\r\n\r\nHEADERS\r\n=======\r\nAccept: */*\r\nConnection: keep-alive\r\nHost: localhost:7214\r\nUser-Agent: PostmanRuntime/7.29.0\r\nAccept-Encoding: gzip, deflate, br\r\nAuthorization: Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6Ik5IQzRNNDFRS0paTzVITzJNQkI1SEVBWVhPT1hVSVVCREdGOVotVF8iLCJ0eXAiOiJhdCtqd3QifQ.eyJzdWIiOiJ0ZXN0LWNsaWVudCIsIm5hbWUiOiJUZXN0Q2xpZW50Iiwic2NvcGUiOiJlZGZpX2FkbWluX2FwaS9mdWxsX2FjY2VzcyIsIm9pX3Byc3QiOiJ0ZXN0LWNsaWVudCIsImNsaWVudF9pZCI6InRlc3QtY2xpZW50Iiwib2lfdGtuX2lkIjoiNjgiLCJleHAiOjE2NTQ1NTU3MzksImlzcyI6Imh0dHBzOi8vbG9jYWxob3N0OjcyMTQvIiwiaWF0IjoxNjU0NTUyMTM5fQ.GwMY90_M7cOVQPU2_R9hLgSM9paRczYe7TuqDW0c4-UXpZcTXqYHc44cG-7Y8ECur2rDvsuKMfXYBPlUUUAxTmmp1NVSOffRxXi-ShLJbAtvciz8n6oED9AEejMe-RvxoaVmQupGVpBbAQEQE26JgY1MUF9JddczR6egmWWdOq6SbUCdp4tJEjA1wHQ54QRu2Bn9hD2DgqiS11gpOa-RbV5LD2oG5d8Ffu22WsU3vPLiM7zm5d1br2-vHaFYp8zwC0GZFRn4gGfLHsyRKVXfOdXbqd6dy1hhkeEWV1O32nqpQedEsO4XyUhplmSrelJtjZsxCD9S-7WQ6LPJuuN7ow\r\nPostman-Token: 6f975f11-853f-467f-9a12-0c3462883330\r\n"
						}
					]
				},
				{
					"name": "Vendor",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"});\r",
									"\r",
									"pm.test(\"Vendor is updated\", function () {\r",
									"    const json = pm.response.json();\r",
									"    const result = json.result;\r",
									"    const initial = pm.collectionVariables.get(\"InitialVendor\");\r",
									"    \r",
									"    if(!initial) {\r",
									"        throw new Error(\"Initial Vendor not found. This should be executed after the POST request\");\r",
									"    }\r",
									"\r",
									"    pm.expect(result.company).not.to.eq(initial.company);\r",
									"    \r",
									"    pm.collectionVariables.unset(\"InitialVendor\");\r",
									"\r",
									"});\r",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"company\": \"Updated Test Company\",\r\n    \"contactName\": \"Test User\",\r\n    \"contactEmailAddress\": \"test@test-ed-fi.org\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{API_URL}}/vendors/{{VendorId}}",
							"host": [
								"{{API_URL}}"
							],
							"path": [
								"vendors",
								"{{VendorId}}"
							]
						}
					},
					"response": [
						{
							"name": "Missing required property",
							"originalRequest": {
								"method": "PUT",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"company\": {{CompanyName}},\r\n    \"namespacePrefixes\": {{NamespacePrefix}},\r\n    \"contactEmailAddress\": {{ContactEmail}}\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{API_URL}}/vendors/{{VendorId}}",
									"host": [
										"{{API_URL}}"
									],
									"path": [
										"vendors",
										"{{VendorId}}"
									]
								}
							},
							"status": "Internal Server Error",
							"code": 500,
							"_postman_previewlanguage": "plain",
							"header": [
								{
									"key": "Content-Type",
									"value": "text/plain; charset=utf-8"
								},
								{
									"key": "Date",
									"value": "Mon, 06 Jun 2022 23:17:47 GMT"
								},
								{
									"key": "Server",
									"value": "Kestrel"
								},
								{
									"key": "Transfer-Encoding",
									"value": "chunked"
								}
							],
							"cookie": [],
							"body": "FluentValidation.ValidationException: Validation failed: \r\n -- ContactName: 'Contact Name' must not be empty. Severity: Error\r\n   at ValidatorExtensions.GuardAsync[TRequest](IValidator`1 validator, TRequest request) in C:\\Users\\anunez\\Documents\\Ed-Fi\\Repos\\Ed-Fi-ODS-AdminApp\\Application\\EdFi.Ods.Admin.Api\\Infrastructure\\ValidatorExtensions.cs:line 15\r\n   at EdFi.Ods.Admin.Api.Features.Vendors.VendorFeatures.UpdateVendor(EditVendorCommand editVendorCommand, IGetVendorByIdQuery getVendorByIdQuery, IMapper mapper, EditVendorModelValidator validator, EditVendorModel vendorModel) in C:\\Users\\anunez\\Documents\\Ed-Fi\\Repos\\Ed-Fi-ODS-AdminApp\\Application\\EdFi.Ods.Admin.Api\\Features\\Vendors\\VendorFeatures.cs:line 63\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass46_3.<<HandleRequestBodyAndCompileRequestDelegate>b__2>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)\r\n\r\nHEADERS\r\n=======\r\nAccept: */*\r\nConnection: keep-alive\r\nHost: localhost:7214\r\nUser-Agent: PostmanRuntime/7.29.0\r\nAccept-Encoding: gzip, deflate, br\r\nAuthorization: Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6Ik5IQzRNNDFRS0paTzVITzJNQkI1SEVBWVhPT1hVSVVCREdGOVotVF8iLCJ0eXAiOiJhdCtqd3QifQ.eyJzdWIiOiJ0ZXN0LWNsaWVudCIsIm5hbWUiOiJUZXN0Q2xpZW50Iiwic2NvcGUiOiJlZGZpX2FkbWluX2FwaS9mdWxsX2FjY2VzcyIsIm9pX3Byc3QiOiJ0ZXN0LWNsaWVudCIsImNsaWVudF9pZCI6InRlc3QtY2xpZW50Iiwib2lfdGtuX2lkIjoiMTQyIiwiZXhwIjoxNjU0NTYxMDY4LCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MjE0LyIsImlhdCI6MTY1NDU1NzQ2OH0.E9A2sJBFymxoKYrsWLMbGlfSrvjJ8XR7D_n2FK-20fsp-7fF3fdyDvipDi9icyYYuR2Kw8x0vGH-c7BpZP-awwPQ42P9TCp0BkS3LdTP1qlPxbWs4W-baK1-PWqz3tkE-pSH5Vg7-ht0qzMSfqMhN5CEVRHJ4C8P72d66QPo89WlvZOvIl48T0s7zMeNqnBh1P4ZicpvcO_Hd-Ps9pQmIPo5LvyuqYYQzm4Cm5Z_Deu-h5vdEcpxK43jHV7SRKZTr75wHxrOe-mnqRuCEQivLoJTfzfINq4H6kLqehG3tmM8ny-de6IZMnWJ9ckdrjDkFbbEd1GcgOl9INZzHzdXDQ\r\nContent-Type: application/json\r\nContent-Length: 115\r\nPostman-Token: fab49422-0860-4748-9b5b-abdbb4f49f1b\r\n"
						},
						{
							"name": "Vendor edited",
							"originalRequest": {
								"method": "PUT",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"company\": {{CompanyName}},\r\n    \"namespacePrefixes\": {{NamespacePrefix}},\r\n    \"contactEmailAddress\": {{ContactEmail}}\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{API_URL}}/vendors/{{VendorId}}",
									"host": [
										"{{API_URL}}"
									],
									"path": [
										"vendors",
										"{{VendorId}}"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Date",
									"value": "Tue, 07 Jun 2022 23:23:15 GMT"
								},
								{
									"key": "Server",
									"value": "Kestrel"
								},
								{
									"key": "Transfer-Encoding",
									"value": "chunked"
								}
							],
							"cookie": [],
							"body": "{\n    \"result\": {\n        \"vendorId\": 40,\n        \"company\": \"Updated Test Company\",\n        \"namespacePrefixes\": \"\",\n        \"contactName\": \"Test User\",\n        \"contactEmailAddress\": \"test@test-ed-fi.org\"\n    },\n    \"status\": 200,\n    \"title\": \"Vendor updated successfully\"\n}"
						},
						{
							"name": "Vendor not found",
							"originalRequest": {
								"method": "PUT",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"company\": {{CompanyName}},\r\n    \"namespacePrefixes\": {{NamespacePrefix}},\r\n    \"contactEmailAddress\": {{ContactEmail}}\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{API_URL}}/vendors/{{VendorId}}",
									"host": [
										"{{API_URL}}"
									],
									"path": [
										"vendors",
										"{{VendorId}}"
									]
								}
							},
							"status": "Internal Server Error",
							"code": 500,
							"_postman_previewlanguage": "plain",
							"header": [
								{
									"key": "Content-Type",
									"value": "text/plain; charset=utf-8"
								},
								{
									"key": "Date",
									"value": "Tue, 07 Jun 2022 23:24:57 GMT"
								},
								{
									"key": "Server",
									"value": "Kestrel"
								},
								{
									"key": "Transfer-Encoding",
									"value": "chunked"
								}
							],
							"cookie": [],
							"body": "FluentValidation.ValidationException: Validation failed: \r\n -- VendorId: Please provide valid Vendor Id. Severity: Error\r\n   at ValidatorExtensions.GuardAsync[TRequest](IValidator`1 validator, TRequest request) in C:\\Users\\anunez\\Documents\\Ed-Fi\\Repos\\Ed-Fi-ODS-AdminApp\\Application\\EdFi.Ods.Admin.Api\\Infrastructure\\ValidatorExtensions.cs:line 15\r\n   at EdFi.Ods.Admin.Api.Features.Vendors.EditVendor.Handle(EditVendorCommand editVendorCommand, IMapper mapper, Validator validator, Request request, Int32 id) in C:\\Users\\anunez\\Documents\\Ed-Fi\\Repos\\Ed-Fi-ODS-AdminApp\\Application\\EdFi.Ods.Admin.Api\\Features\\Vendors\\EditVendor.cs:line 27\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass46_3.<<HandleRequestBodyAndCompileRequestDelegate>b__2>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)\r\n\r\nHEADERS\r\n=======\r\nAccept: */*\r\nConnection: keep-alive\r\nHost: localhost:7214\r\nUser-Agent: PostmanRuntime/7.29.0\r\nAccept-Encoding: gzip, deflate, br\r\nAuthorization: Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6Ik9KQTgxWVc3NFJFVVRFWlRKTVQ4QTFKUzM3S1JGVjFZOFdJU1VMRzgiLCJ0eXAiOiJhdCtqd3QifQ.eyJzdWIiOiJ0ZXN0LWNsaWVudCIsIm5hbWUiOiJUZXN0Q2xpZW50Iiwic2NvcGUiOiJlZGZpX2FkbWluX2FwaS9mdWxsX2FjY2VzcyIsIm9pX3Byc3QiOiJ0ZXN0LWNsaWVudCIsImNsaWVudF9pZCI6InRlc3QtY2xpZW50Iiwib2lfdGtuX2lkIjoiMjIwIiwiZXhwIjoxNjU0NjQ3Nzg5LCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo3MjE0LyIsImlhdCI6MTY1NDY0NDE4OX0.OkQQMWtFtWrXVlj2E8RabVkOqjY2Q7lOCa_6GOmemnqJalboVwGMTxqqyicq6gqENs4woxKug-JwD0YBhnxCq3mcBiYycAb_i406eoxgvaJxF5-J1lcmuKjNnUG97jZ9w6n50gp3yaRuUP38RSeAXz5bWSPK6SkFbBkr019Nue_ST4LQGBC__taL2NODKgAn15d-hdJQkm16AMkbwZYw5p4oa4lITHTWrRImr8GE6oqhaQpamqO_r6gi9w-ayp0z6_NNNw3HQQ-vDRbiBKgiWCEAQtp0kdY0a7WTa6B4yOVDefBLGyG0-lRni16tzr-04LtqCs5TVyjmmOHgWB3bfQ\r\nContent-Type: application/json\r\nContent-Length: 127\r\nPostman-Token: 987d59a9-eef4-42bf-844b-e203bdea20f1\r\n"
						}
					]
				},
				{
					"name": "Vendor",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"    pm.collectionVariables.unset(\"VendorId\");\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{API_URL}}/vendors/{{VendorId}}",
							"host": [
								"{{API_URL}}"
							],
							"path": [
								"vendors",
								"{{VendorId}}"
							]
						}
					},
					"response": [
						{
							"name": "Vendor to delete not found",
							"originalRequest": {
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{API_URL}}/vendors/{{VendorId}}",
									"host": [
										"{{API_URL}}"
									],
									"path": [
										"vendors",
										"{{VendorId}}"
									]
								}
							},
							"status": "Internal Server Error",
							"code": 500,
							"_postman_previewlanguage": "plain",
							"header": [
								{
									"key": "Content-Type",
									"value": "text/plain; charset=utf-8"
								},
								{
									"key": "Date",
									"value": "Mon, 06 Jun 2022 22:04:59 GMT"
								},
								{
									"key": "Server",
									"value": "Kestrel"
								},
								{
									"key": "Transfer-Encoding",
									"value": "chunked"
								}
							],
							"cookie": [],
							"body": "EdFi.Ods.AdminApp.Management.ErrorHandling.NotFoundException`1[System.Int32]: Not found: This vendor no longer exists.It may have been recently deleted. with ID -1\r\n   at EdFi.Ods.AdminApp.Management.Database.Commands.DeleteVendorCommand.Execute(Int32 id) in C:\\Users\\anunez\\Documents\\Ed-Fi\\Repos\\Ed-Fi-ODS-AdminApp\\Application\\EdFi.Ods.AdminApp.Management\\Database\\Commands\\DeleteVendorCommand.cs:line 31\r\n   at EdFi.Ods.Admin.Api.Features.Vendors.VendorFeatures.DeleteVendor(DeleteVendorCommand deleteVendorCommand, IGetVendorByIdQuery getVendorByIdQuery, Int32 id) in C:\\Users\\anunez\\Documents\\Ed-Fi\\Repos\\Ed-Fi-ODS-AdminApp\\Application\\EdFi.Ods.Admin.Api\\Features\\Vendors\\VendorFeatures.cs:line 72\r\n   at lambda_method10(Closure , Object , HttpContext )\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.Invoke(HttpContext httpContext)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Authorization.Policy.AuthorizationMiddlewareResultHandler.HandleAsync(RequestDelegate next, HttpContext context, AuthorizationPolicy policy, PolicyAuthorizationResult authorizeResult)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)\r\n\r\nHEADERS\r\n=======\r\nAccept: */*\r\nConnection: keep-alive\r\nHost: localhost:7214\r\nUser-Agent: PostmanRuntime/7.29.0\r\nAccept-Encoding: gzip, deflate, br\r\nAuthorization: Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6Ik5IQzRNNDFRS0paTzVITzJNQkI1SEVBWVhPT1hVSVVCREdGOVotVF8iLCJ0eXAiOiJhdCtqd3QifQ.eyJzdWIiOiJ0ZXN0LWNsaWVudCIsIm5hbWUiOiJUZXN0Q2xpZW50Iiwic2NvcGUiOiJlZGZpX2FkbWluX2FwaS9mdWxsX2FjY2VzcyIsIm9pX3Byc3QiOiJ0ZXN0LWNsaWVudCIsImNsaWVudF9pZCI6InRlc3QtY2xpZW50Iiwib2lfdGtuX2lkIjoiNzQiLCJleHAiOjE2NTQ1NTY2OTksImlzcyI6Imh0dHBzOi8vbG9jYWxob3N0OjcyMTQvIiwiaWF0IjoxNjU0NTUzMDk5fQ.bwzuOtViJwHXXlBM79D8ebswiJ_Menhjictgl_WTbaeg9ruJ35Ue2eft2tznuFJdYlGS7fLMnYp_v-ppOX_wmCMAZCmEAzmeFLHx6yhiMxAIeILANdESVjD5vLyVC6I6kTp0trWFfXI36ZIJQ7zP7hEq_UeQUIV13TP2YeEPINLKW4UURaJLRmUPe87riZuLoyl08ICGVyeb9tKtI47jGycnRCBpcuhZVksCiCgXz-03Yc8qazB4gw9UJBkY8cdQEst6HBmqAYMWSEkTirNUM4ZN-RC7RgPIPVsrbfMs1__OG2WQfeBclPh2YLYNcb0gq13ArfvtzdkphzgyndOa0w\r\nPostman-Token: a5a5057d-50f6-470f-bcda-d6c662c1b816\r\n"
						},
						{
							"name": "Vendor deleted",
							"originalRequest": {
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{API_URL}}/vendors/{{VendorId}}",
									"host": [
										"{{API_URL}}"
									],
									"path": [
										"vendors",
										"{{VendorId}}"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Date",
									"value": "Mon, 06 Jun 2022 23:22:12 GMT"
								},
								{
									"key": "Server",
									"value": "Kestrel"
								},
								{
									"key": "Transfer-Encoding",
									"value": "chunked"
								}
							],
							"cookie": [],
							"body": "{\n    \"status\": 200,\n    \"title\": \"Vendor deleted successfully\"\n}"
						}
					]
				}
			]
		}
	],
	"auth": {
		"type": "bearer",
		"bearer": [
			{
				"key": "token",
				"value": "{{TOKEN}}",
				"type": "string"
			}
		]
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					"let currentToken = pm.collectionVariables.get(\"TOKEN\");",
					"if(currentToken) {",
					"    return;",
					"}",
					"",
					"pm.sendRequest({",
					"    url: `${pm.variables.get(\"API_URL\")}/connect/token`,",
					"    method: 'POST',",
					"    header: {",
					"        'Content-Type': 'application/x-www-form-urlencoded'",
					"    },",
					"    body: {",
					"        mode: 'urlencoded',",
					"        urlencoded: [",
					"            {key: 'client_id', value: pm.variables.get(\"ClientId\")},",
					"            {key: 'client_secret', value: pm.variables.get(\"ClientSecret\")},",
					"            {key: 'grant_type', value: \"client_credentials\"}",
					"        ]",
					"    }",
					"},",
					"    (err, res) => {",
					"        pm.collectionVariables.set(\"TOKEN\", res.json().access_token)",
					"});"
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "TOKEN",
			"value": ""
		}
	]
}